{
   "type":"object",
   "description":"This is a VDC Blueprint which consists of five sections",
   "properties":{
      "EXPOSED_API":{
         "title":"CAF API",
         "type":"object",
         "description":"The CAF RESTful API of the VDC, written according to the current version (3.0.1) of the OpenAPI Specification (OAS), but also adapted to DITAS requirements",
         "properties":{
            "paths":{
               "type":"object",
               "patternProperties":{
                  "^/":{
                     "type":"object",
                     "patternProperties":{
                        "^get$":{
                           "allOf":[
                              {
                                 "$ref":"#/properties/EXPOSED_API/definitions/method"
                              },
                              {
                                 "properties":{
                                    "parameters":{

                                    }
                                 }
                              }
                           ]
                        },
                        "^post$":{
                           "allOf":[
                              {
                                 "$ref":"#/properties/EXPOSED_API/definitions/method"
                              },
                              {
                                 "properties":{
                                    "requestBody":{
                                       "type":"object",
                                       "properties":{
                                          "content":{
                                             "$ref":"#/properties/EXPOSED_API/definitions/content"
                                          }
                                       }
                                    }
                                 },
                                 "required":[
                                    "requestBody"
                                 ]
                              }
                           ]
                        }
                     }
                  }
               }
            }
         },
         "definitions":{
            "method":{
               "title":"An Exposed VDC Method",
               "type":"object",
               "description":"Corresponds to the Operation Object defined in the OpenAPI Specification (OAS) version 3.0.1",
               "properties":{
                  "summary":{

                  },
                  "operationId":{

                  },
                  "responses":{
                     "type":"object",
                     "patternProperties":{
                        "^200$|^201$":{
                           "type":"object",
                           "properties":{
                              "content":{
                                 "$ref":"#/properties/EXPOSED_API/definitions/content"
                              }
                           },
                           "required":[
                              "content"
                           ]
                        }
                     }
                  },
                  "x-data-sources":{
                     "type":"array",
                     "description":"An array that contains all the identifiers of the data sources (as indicated in the INTERNAL_STRUCTURE.Data_Sources field) that are accessed by the method",
                     "items":{
                        "type":"string"
                     },
                     "minItems":1,
                     "uniqueItems":true
                  },
                  "x-iam-roles":{
                     "type":"array",
                     "items":{
                        "type":"string"
                     }
                  }
               },
               "required":[
                  "summary",
                  "operationId",
                  "responses",
                  "x-data-sources"
               ]
            },
            "content":{
               "type":"object",
               "patternProperties":{
                  "^application/json$":{
                     "type":"object",
                     "properties":{
                        "schema":{
                           "type":"object"
                        }
                     },
                     "required":[
                        "schema"
                     ]
                  }
               }
            }
         }
      }
   },
   "additionalProperties":false,
   "required":[
      "EXPOSED_API"
   ]
}
